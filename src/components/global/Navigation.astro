---
import Text from "../fundations/elements/Text.astro";
import Logo from "./Logo.astro";

const navigation = [
  {
    title: "About",
    href: "/about"
  },
  {
    title: "Tools",
    href: "/tools"
  },
  {
    title: "Development",
    href: "/development"
  },
  {
    title: "Automation",
    href: "/automation"
  },
  {
    title: "Agencies",
    href: "/agencies"
  },
  {
    title: "Blog",
    href: "/blog"
  }
];
---

<div x-data="{ isOpen: false }" class="relative z-50 mb-12" transition:persist>
  <div class="flex items-center justify-between p-8 border-b border-dashed border-zinc-300 dark:border-zinc-700">
    <Logo />
    
    <!-- Desktop Navigation -->
    <div class="hidden lg:flex items-center gap-8">
      {navigation.map((item) => (
        <Text
          tag="a"
          href={item.href}
          variant="textSM"
          class="text-zinc-500 hover:text-black dark:hover:text-white duration-200"
        >
          {item.title}
        </Text>
      ))}
      <Text
        tag="a"
        href="/schedule"
        variant="textSM"
        class="bg-black text-white dark:bg-white dark:text-black px-4 py-2 hover:bg-zinc-800 dark:hover:bg-zinc-200 duration-200"
      >
        Schedule Now
      </Text>
    </div>

    <!-- Mobile Menu Button -->
    <button
      type="button"
      class="lg:hidden text-black dark:text-white"
      @click="isOpen = !isOpen"
      aria-label="Toggle menu"
    >
      <svg
        x-show="!isOpen"
        class="h-6 w-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"
        ></path>
      </svg>
      <svg
        x-show="isOpen"
        x-cloak
        class="h-6 w-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
        ></path>
      </svg>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div
    x-show="isOpen"
    x-cloak
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0 translate-x-full"
    x-transition:enter-end="opacity-100 translate-x-0"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100 translate-x-0"
    x-transition:leave-end="opacity-0 translate-x-full"
    class="fixed inset-0 z-50 lg:hidden bg-[#f7f7f7] dark:bg-[#1a1c1f]"
  >
    <div class="flex flex-col h-full">
      <div class="flex justify-end p-4">
        <button
          type="button"
          class="text-black dark:text-white"
          @click="isOpen = false"
          aria-label="Close menu"
        >
          <svg
            class="h-6 w-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            ></path>
          </svg>
        </button>
      </div>

      <nav class="flex flex-col items-center justify-center flex-grow gap-12 p-8">
        {navigation.map((item) => (
          <Text
            tag="a"
            href={item.href}
            variant="displayXS"
            @click="isOpen = false"
            class="text-zinc-500 hover:text-black dark:hover:text-white duration-200"
          >
            {item.title}
          </Text>
        ))}
        <Text
          tag="a"
          href="/schedule"
          @click="isOpen = false"
          variant="displayXS"
          class="bg-black text-white dark:bg-white dark:text-black px-8 py-4 hover:bg-zinc-800 dark:hover:bg-zinc-200 duration-200"
        >
          Schedule Now
        </Text>
      </nav>
    </div>
  </div>
</div>

<style>
  [x-cloak] {
    display: none !important;
  }
</style>
